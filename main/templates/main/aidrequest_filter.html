{% extends "base.html" %}
{% load humanize %}
{% load static %}

{% block nav2 %}
<nav class="flex bg-blue-900 p-3 text-white">
    <div class="flex-grow">
      <h1 class="text-3xl font-bold">Aid requests</h1>
      <h2 class="">London, United Kingdom</h2>
    </div>
    <div class="p-5">
      List
    </div>
    <div class="p-5">
      <a class="btn" href="{% url 'hospitalfordonor_list' %}">Map</a>
    </div>
</nav>
{% endblock %}

{% block content %}
<div class="p-8">
  <div class="pb-5">
    <span class="bg-blue-900 font-bold text-white rounded-full p-1 px-2 mx-1">SUPPLY</span>
    <span class="bg-red-500 font-bold text-white rounded-full p-1 px-2 mx-1">REPAIR</span>
  </div>
  <div class="card-deck">
    {% for object in object_list %}
    <div class="flex mb-3 bg-white rounded-lg shadow-lg border-l-8 border-blue-300 p-4">
      <div class="flex-grow">
        <p class="pb-2">{{ object.hospital.name }}</p>
        <p class="pb-2 font-bold">{{ object.details|truncatechars:80 }}</p>
        <p class="text-gray-500">{{ object.updated_at|naturaltime }}</p>
      </div>
      <div class="p-6">
        <span class="text-white bg-gray-600 font-bold rounded p-1">
          {{ object.equipment_quantity|default:1 }}
        </span>
      </div>
      <div class="p-6">
        <a href="{% url 'aidrequestfordonor_detail' object.id %}">Open</a>
      </div>
    </div>
    {% empty %}
    <p>No requests yet</p>
    {% endfor %}
  </div>
</div>
{% endblock content %}
